{"version":3,"sources":["components/Header/img/header-bg.jpg","assets/img/logo.png","components/Header/index.js","components/Header/Header.js","components/Footer/index.js","components/Footer/Footer.js","components/game-service-context/index.js","components/game-service-context/game-service-context.js","components/hoc/index.js","components/hoc/with-game-service.js","reducers/index.js","components/CardsListItem/cards-list-item.js","components/CardsListItem/index.js","assets/img/loading.gif","components/spinner/index.js","components/spinner/spinner.js","components/CardsList/cards-list.js","App.js","services/index.js","services/gameService.js","assets/img/error.jpg","components/Error/index.js","components/Error/Error.js","components/ErrorBoundary/index.js","components/ErrorBoundary/ErrorBoundary.js","store.js","index.js"],"names":["Header","connect","state","currentScore","maxScore","className","style","color","fontSize","background","bg","width","height","src","logo","alt","Footer","left","bottom","padding","GameServiceContext","React","createContext","WithGameServiceHOC","Wrapped","props","Consumer","GameService","initialState","cards","loading","uniqIdLine","hasError","cardsLoaded","newCards","type","payload","cardsRequested","reducers","action","id","newItemId","find","item","console","log","nonUniq","includes","alert","text","length","mapDispatchToProps","CardListItem","cardsItems","img","onClick","changeCurrentScoreFunc","Spinner","spinner","margin","CardList","this","getCardsItems","then","res","catch","err","items","cardItems","sort","Math","random","map","el","currentScoreChangeAC","Component","App","bestScore","_apiBase","a","fetch","ok","Error","status","json","getResource","error","textAlign","fontWeight","ErrorBoundary","setState","children","store","createStore","window","gameService","ReactDOM","render","Provider","value","document","getElementById"],"mappings":"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","file":"static/js/main.94ca784e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-bg.775bc324.jpg\";","export default __webpack_public_path__ + \"static/media/logo.ae606e29.png\";","import Header from \"./Header\";\r\nexport default Header;","import React from 'react';\r\nimport bg from './img/header-bg.jpg';\r\nimport logo from '../../assets/img/logo.png'\r\nimport { connect } from 'react-redux';\r\n\r\nconst Header = ({ currentScore, maxScore }) => {\r\n\r\n    return (\r\n        <header className='app-header' style={{\r\n            color: 'black',\r\n            fontSize: '20px',\r\n            background: `url(${bg}) no-repeat center`,\r\n            width: 'auto',\r\n            height: '200px'\r\n        }}>\r\n            <img src={logo} className=\"App-logo\" alt=\"logo\" style={{ width: '50px', height: '50px' }} />\r\n            <div>Memory Game</div>\r\n            <div className='app-header__score'>Current Score: {currentScore}</div>\r\n            <div className='app-header__best-score'>Max score: {maxScore}</div>\r\n        </header>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentScore: state.currentScore,\r\n        maxScore: state.maxScore\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","import Footer from \"./Footer\";\r\nexport default Footer;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className='app-header' style={{\r\n            fontSize: '20px',\r\n            color: 'white',\r\n            background: 'black',\r\n            left: '0',\r\n            bottom: '0',\r\n            width: '100%',\r\n            padding: '20px 0'\r\n        }}>\r\n            <div>Copyright © 2021</div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import GameServiceContext from './game-service-context';\r\nexport default GameServiceContext;","import React from \"react\";\r\n\r\nconst GameServiceContext = React.createContext();\r\n\r\nexport default GameServiceContext;","import WithGameServiceHOC from './with-game-service';\r\nexport default WithGameServiceHOC;","import React from 'react';\r\nimport GameServiceContext from '../game-service-context'\r\n\r\nconst WithGameServiceHOC = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n            <GameServiceContext.Consumer >\r\n                {\r\n                    (GameService) => {\r\n                        return <Wrapped {...props} GameService={GameService} />\r\n                    }\r\n                }\r\n            </GameServiceContext.Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WithGameServiceHOC;","const initialState = {\r\n    cards: [],\r\n    loading: true,\r\n    currentScore: 1,\r\n    maxScore: 0,\r\n    uniqIdLine: [],\r\n    hasError: false,\r\n};\r\n\r\nconst reducers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'CARDS_LOADED': {\r\n            return {\r\n                ...state,\r\n                cards: action.payload,\r\n                loading: false\r\n            }\r\n        }\r\n        case 'CARDS_REQUESTED':\r\n            return {\r\n                ...state,\r\n                cards: state.cards,\r\n                loading: true,\r\n                uniqIdLine: [],\r\n                currentScore: 0,\r\n                maxScore: 0\r\n            }\r\n\r\n        case 'ITEM_ADD_TO_MEMORY':\r\n            const id = action.payload;\r\n            // Найти элемент у которого id == пришедшему id:\r\n            const newItemId = state.cards.find(item => item.id === id);\r\n            console.log(newItemId.id);\r\n            const nonUniq = state.uniqIdLine.includes(newItemId);\r\n\r\n            // Если id элемент ЕСТЬ в uniqIdLine\r\n            if (nonUniq) {\r\n                // GameOver\r\n                console.log('Game Over', newItemId);\r\n                alert(`GameOver: ${newItemId.text} was alredy`)\r\n\r\n                return {\r\n                    ...state,\r\n                    uniqIdLine: [],\r\n                    currentScore: 0\r\n                }\r\n\r\n            }\r\n            // Если id элемента НЕТ в uniqIdLine\r\n            else {\r\n                console.log('Game continue');\r\n                console.log('Current Score:', state.currentScore);\r\n                return {\r\n                    ...state,\r\n                    uniqIdLine: [\r\n                        ...state.uniqIdLine,\r\n                        newItemId\r\n                    ],\r\n                    maxScore: state.cards.length,\r\n                    currentScore: state.currentScore + 1\r\n                }\r\n            }\r\n        default:\r\n            return {\r\n                state\r\n            };\r\n    }\r\n}\r\n\r\n// Action Creators:\r\n\r\nexport const cardsLoaded = (newCards) => {\r\n    return {\r\n        type: 'CARDS_LOADED',\r\n        payload: newCards\r\n    }\r\n}\r\n\r\nexport const cardsRequested = () => {\r\n    return {\r\n        type: 'CARDS_REQUESTED'\r\n    }\r\n}\r\n\r\nexport const currentScoreChangeAC = (id) => {\r\n    return {\r\n        type: 'ITEM_ADD_TO_MEMORY',\r\n        payload: id\r\n    }\r\n}\r\n\r\nexport default reducers;","import React from 'react';\r\nimport style from './style.css';\r\nimport WithGameServiceHOC from '../hoc';\r\nimport { connect } from 'react-redux';\r\nimport { cardsRequested, cardsLoaded } from '../../reducers';\r\n\r\nconst CardListItem = (props) => {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"image\">\r\n                <img src={props.img} alt={props.text} width=\"100%\" />\r\n            </div>\r\n            <div className=\"text\">\r\n                <button onClick={() => props.changeCurrentScoreFunc()} className=\"fab\">&#43;</button>\r\n                <h3>{props.text}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        cardsItems: state.cards,\r\n        loading: state.loading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    cardsRequested,\r\n    cardsLoaded\r\n}\r\nexport default WithGameServiceHOC()(connect(mapStateToProps, mapDispatchToProps)(CardListItem));\r\n\r\n// export default CardListItem;","import CardListItem from './cards-list-item';\r\nexport default CardListItem;","export default __webpack_public_path__ + \"static/media/loading.f4fccc96.gif\";","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\nimport spinner from '../../assets/img/loading.gif'\n\nconst Spinner = () => {\n    return <img src={spinner} className=\"spinner\" alt='Load...' style={{ width: '100%', margin:'auto' }} />\n}\n\nexport default Spinner;","import React, { Component } from 'react';\r\nimport CardListItem from '../CardsListItem';\r\nimport WithGameServiceHOC from '../hoc';\r\nimport { connect } from 'react-redux';\r\nimport { cardsRequested, cardsLoaded, currentScoreChangeAC } from '../../reducers';\r\nimport Spinner from '../spinner';\r\nimport style from './style.scss';\r\n\r\nclass CardList extends Component {\r\n    componentDidMount() {\r\n        this.props.cardsRequested()\r\n        const { GameService } = this.props;\r\n        GameService.getCardsItems()\r\n            .then(res => this.props.cardsLoaded(res)) // здесь загружаем новые карточки в state\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        const { cardItems, loading } = this.props\r\n        console.log(this.props);\r\n        if (loading) {\r\n            console.log('loading');\r\n            return <Spinner />\r\n        }\r\n\r\n        let items;\r\n\r\n        if (cardItems) {\r\n            items = cardItems.sort(() => Math.random() - 0.5).map(el => {\r\n                return (\r\n                    <CardListItem\r\n                        key={el.id} img={el.img} text={el.text}\r\n                        onClick={() => console.log('Click')}\r\n                        changeCurrentScoreFunc={() => this.props.currentScoreChangeAC(el.id)} />\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n            <section>\r\n                <div className='cardList'>\r\n                    <div>{items}</div>\r\n                </div >\r\n            </section >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        cardItems: state.cards,\r\n        loading: state.loading,\r\n        currentScore: state.currentScore,\r\n        uniqIdLine: state.uniqIdLine,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    cardsRequested,\r\n    cardsLoaded,\r\n    currentScoreChangeAC,\r\n}\r\n\r\nexport default WithGameServiceHOC()(connect(mapStateToProps, mapDispatchToProps)(CardList));","import React from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport CardList from './components/CardsList/cards-list';\n\nfunction App(props) {\n  return (\n    <div className=\"App\" >\n      <Header currentScore={props.currentScore} bestScore={props.bestScore} />\n      <CardList  />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;","import GameService from \"./gameService\";\r\nexport default GameService;","export default class GameService {\r\n    _apiBase = 'http://localhost:8000/characters';\r\n\r\n    async getResource() {\r\n        const res = await fetch(`${this._apiBase}`)\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n\r\n    }\r\n\r\n    async getCardsItems () {\r\n        return await this.getResource();\r\n    }\r\n\r\n    async getItem(id) {\r\n        const res = await this.getResource();\r\n        const item = res.find((el) => {\r\n            console.log(`el.id: ${el.id}, id: ${id}`);\r\n            return el.id === +id;\r\n        })\r\n        return item\r\n    }\r\n\r\n}","export default __webpack_public_path__ + \"static/media/error.00660134.jpg\";","import Error from './Error';\r\nexport default Error;","import React from 'react';\r\nimport error from '../../assets/img/error.jpg'\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div style={{\r\n            color: 'white',\r\n            fontSize: '20px',\r\n            background: `url(${error}) no-repeat center`,\r\n            textAlign: 'center',\r\n            fontSize: '4rem',\r\n            minHeight: '100%',\r\n            width: '100%',\r\n            height: 'auto',\r\n            position: 'fixed',\r\n            top: '0',\r\n            left: '0',\r\n        }}>\r\n            <div style={{\r\n                padding: '50px',\r\n                fontWeight: 'bold'\r\n            }}>Error!</div>\r\n            <span style={{padding: '50px'}}>Something go wrong. It's a big-big mistake</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import ErrorBoundary from './ErrorBoundary';\r\nexport default ErrorBoundary;","import React, { Component } from \"react\";\r\nimport Error from \"../Error/\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {\r\n        hasError: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        console.log(this.state);\r\n        this.setState({ hasError: true })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return <Error />\r\n        }\r\n\r\n        return this.props.children;\r\n\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import { createStore } from 'redux';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers);\r\n\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport GameService from './services/';\nimport GameServiceContext from './components/game-service-context';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport store from './store';\nimport './index.css';\n\nconst gameService = new GameService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <GameServiceContext.Provider value={gameService}>\n        <App />\n      </GameServiceContext.Provider>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}